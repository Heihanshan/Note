# 程序内存模型

（程序运行前：代码区、全局区，运行后：栈区、堆区）

## 一、代码区

### 特点

1、共享

2、只读

## 二、全局区

1、存放全局变量、静态变量、常量、字符串常量、其他常量。

2、该区域数据在程序结束后由操作系统释放

3、局部变量、局部常量（const修饰的局部变量）等不再全局区中存放

4、全局变量、静态变量、字符串常量、全局常量（const修饰的全局变量）等在全局区中存放

## 三、栈区（编译器自动分配释放）

1、栈区的默认使用规则是先使用高地址空间在使用低地址空间。

2、数组随着下标的增长在栈中地址由低到高变化。

如：在栈区中：

|            |
| :--------: |
| （高地址） |
|            |
|            |
|            |
|            |
|            |
|     …      |
|     …      |
|     …      |
|    a[2]    |
|    a[1]    |
|    a[0]    |
|            |
| （低地址） |

3、存放函数参数、局部变量等（不要返回这些变量的地址）



## 四、堆区（程序员分配释放）

1、主要用于用new在堆区开辟数据

例：new int(10),这段代码返回由new在堆区开辟的空间的地址，可以定义一个指针接收。



## 五、new运算符

1、创建整形数据：

`int *p=new int(10); `(*p=10)

2、创建整形数组：

`int arr=new int[10]; `

赋值：

~~~c++
for(int i=0;i<10;i++)
{
    arr[i]=i;
}
~~~

3、释放堆区数据：

(1)、整数：delete p;

(2)、数组：delete[] arr;





























